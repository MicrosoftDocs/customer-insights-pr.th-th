---
title: ผสานเอนทิตีในการรวมข้อมูล
description: ผสานเอนทิตีเพื่อสร้างโปรไฟล์ลูกค้าแบบรวม
ms.date: 10/10/2021
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: tutorial
author: adkuppa
ms.author: adkuppa
ms.reviewer: mhart
manager: shellyha
searchScope:
- ci-merge
ms.openlocfilehash: 6b3002b21ea043315e50724ec103aef8a3ced98e
ms.sourcegitcommit: 37182127b93b90846cc91fbeb26dd7a18cf5610a
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 10/18/2021
ms.locfileid: "7648277"
---
# <a name="merge-entities"></a>ผสานเอนทิตี

เฟสการผสานคือเฟสสุดท้ายในกระบวนการรวมข้อมูล โดยมีวัตถุประสงค์คือการกระทบยอดข้อมูลที่ขัดแย้งกัน ตัวอย่างของข้อมูลที่ขัดแย้งกันอาจรวมถึงชื่อลูกค้าที่พบในชุดข้อมูลสองชุดของคุณ แต่จะแสดงแตกต่างกันเล็กน้อยในแต่ละชุด ("Grant Marshall" เทียบกับ "Grant Marshal") หรือหมายเลขโทรศัพท์ที่แตกต่างกันในรูปแบบ (617-803-091X เทียบกับ 617803091X) การผสานจุดข้อมูลที่ขัดแย้งกันเหล่านั้นทำได้บนพื้นฐานแอตทริบิวต์ต่อแอตทริบิวต์

:::image type="content" source="media/merge-fields-page.png" alt-text="ผสานหน้าในกระบวนการรวมข้อมูลที่แสดงตารางที่มีฟิลด์ที่ผสาน ซึ่งกำหนดโปรไฟล์ลูกค้าแบบรวม":::

หลังจากเสร็จสิ้น [เฟสการจับคู่](match-entities.md) คุณเริ่มขั้นตอนการผสานเฟสได้โดยเลือกไทล์ **ผสาน** บนหน้า **รวม**

## <a name="review-system-recommendations"></a>ตรวจทานคำแนะนำของระบบ        

บน **ข้อมูล** > **รวมกัน** > **ผสาน** คุณเลือกและไม่รวมแอตทริบิวต์ที่จะผสานภายในเอนทิตีโปรไฟล์ลูกค้าแบบรวมของคุณ โปรไฟล์ลูกค้าแบบรวมเป็นผลมาจากกระบวนการรวมข้อมูล แอตทริบิวต์บางอย่างถูกรวมเข้ากับระบบโดยอัตโนมัติ

หากต้องการดูแอตทริบิวต์ที่รวมอยู่ในหนึ่งในแอตทริบิวต์ที่ผสานโดยอัตโนมัติของคุณ ให้เลือกแอตทริบิวต์ที่ผสานในแท็บ **ฟิลด์ลูกค้า** ของตาราง แอตทริบิวต์ที่ประกอบด้วยแอตทริบิวต์ที่ผสานจะแสดงเป็นแถวใหม่สองแถวใต้แอตทริบิวต์ที่ผสาน

## <a name="separate-rename-exclude-and-edit-merged-fields"></a>แยก เปลี่ยนชื่อ ไม่รวม และแก้ไขฟิลด์ที่ผสาน

คุณสามารถเปลี่ยนวิธีที่ระบบประมวลผลแอตทริบิวต์ที่ผสานเพื่อสร้างโปรไฟล์ลูกค้าแบบรวม เลือก **แสดงเพิ่มเติม** และเลือกสิ่งที่คุณต้องการเปลี่ยนแปลง

:::image type="content" source="media/manage-merged-attributes.png" alt-text="ตัวเลือกในเมนูแบบหล่นลงแสดงเพิ่มเติมเพื่อจัดการแอตทริบิวต์ที่ผสาน":::

สำหรับข้อมูลเพิ่มเติม ดูส่วนต่อไปนี้

## <a name="separate-merged-fields"></a>แยกฟิลด์ที่ผสาน

หากต้องการแยกฟิลด์ที่ผสาน ให้ค้นหาแอตทริบิวต์ในตาราง ฟิลด์ที่แยกกันจะแสดงเป็นจุดข้อมูลแต่ละจุดในโปรไฟล์ลูกค้าแบบรวม 

1. เลือกฟิลด์ที่ผสาน
  
1. เลือก **แสดงเพิ่มเติม** และเลือก **แยกฟิลด์**
 
1. ยืนยันการแยก

1. เลือก **บันทึก** และ **รัน** เพื่อประมวลผลการเปลี่ยนแปลง

## <a name="rename-merged-fields"></a>เปลี่ยนชื่อฟิลด์ที่ผสาน

เปลี่ยนชื่อที่แสดงของแอตทริบิวต์ที่ผสาน คุณไม่สามารถเปลี่ยนชื่อของเอนทิตีผลลัพธ์ได้

1. เลือกฟิลด์ที่ผสาน
  
1. เลือก **แสดงเพิ่มเติม** และเลือก **เปลี่ยนชื่อ**

1. ยืนยันชื่อที่แสดงที่เปลี่ยนแปลง 

1. เลือก **บันทึก** และ **รัน** เพื่อประมวลผลการเปลี่ยนแปลง

## <a name="exclude-merged-fields"></a>ไม่รวมฟิลด์ที่ผสาน

ไม่รวมแอตทริบิวต์จากโปรไฟล์ลูกค้าแบบรวม หากฟิลด์ถูกใช้ในกระบวนการอื่นๆ ตัวอย่างเช่น ในเซ็กเมนต์ ให้ลบฟิลด์ออกจากกระบวนการเหล่านี้ ก่อนที่จะแยกออกจากโปรไฟล์ลูกค้า 

1. เลือกฟิลด์ที่ผสาน
  
1. เลือก **แสดงเพิ่มเติม** และเลือก **ไม่รวม**

1. ยืนยันการตัดออก

1. เลือก **บันทึก** และ **รัน** เพื่อประมวลผลการเปลี่ยนแปลง 

บนหน้า **ผสาน** ให้เลือก **ฟิลด์ที่ตัดออก** เพื่อดูรายการฟิลด์ที่ตัดออกทั้งหมด บานหน้าต่างนี้ช่วยให้คุณสามารถเพิ่มฟิลด์ที่ตัดออกกลับมาได้

## <a name="edit-a-merged-field"></a>แก้ไขฟิลด์ที่ผสาน

1.  เลือกฟิลด์ที่ผสาน

1.  เลือก **แสดงเพิ่มเติม** และเลือก **แก้ไข**

1.  ระบุวิธีการรวมหรือผสานฟิลด์จากตัวเลือกใดตัวเลือกหนึ่งจากสามตัวเลือก:
    - **ความสำคัญ**: ระบุค่าผู้ชนะตามลำดับความสำคัญที่ระบุไว้สำหรับฟิลด์ที่รวมไว้ด้วย ซึ่งเป็นตัวเลือกการผสานเริ่มต้น เลือก **เลื่อนขึ้น/ลง** เพื่อจัดลำดับความสำคัญ
    :::image type="content" source="media/importance-merge-option.png" alt-text="ตัวเลือกความสำคัญในกล่องโต้ตอบผสานฟิลด์"::: 
    - **ใหม่ที่สุด**: ระบุค่าผู้ชนะตามการใช้บริการครั้งล่าสุดที่ใหม่ที่สุด ต้องระบุฟิลด์วันที่หรือฟิลด์ตัวเลขสำหรับทุกเอนทิตีที่รวมไว้ในขอบเขตผสานฟิลด์เพื่อกำหนดการใช้บริการครั้งล่าสุด
    :::image type="content" source="media/recency-merge-option.png" alt-text="ตัวเลือกการใช้บริการครั้งล่าสุดในกล่องโต้ตอบผสานฟิลด์":::
    - **เก่าที่สุด**: ระบุค่าผู้ชนะอิงตามการใช้บริการครั้งล่าสุดที่เก่าที่สุด ต้องระบุฟิลด์วันที่หรือฟิลด์ตัวเลขสำหรับทุกเอนทิตีที่รวมไว้ในขอบเขตผสานฟิลด์เพื่อกำหนดการใช้บริการครั้งล่าสุด

1.  คุณสามารถเพิ่มฟิลด์เพิ่มเติมเพื่อเข้าร่วมในกระบวนการผสาน

1.  คุณสามารถเปลี่ยนชื่อฟิลด์ที่ผสาน

1. เลือก **เสร็จสิ้น** เพื่อนำการเปลี่ยนแปลงของคุณมาใช้

1. เลือก **บันทึก** และ **รัน** เพื่อประมวลผลการเปลี่ยนแปลง 

## <a name="manually-combine-fields"></a>รวมฟิลด์ด้วยตนเอง

ระบุแอตทริบิวต์ที่ผสานด้วยตนเอง 

1. บนหน้า **ผสาน** ให้เลือก **รวมฟิลด์**

1. ระบุนโยบายผู้ชนะการผสานในรายการแบบหล่นลง **รวมฟิลด์ตาม**

1. เลือกฟิลด์ที่จะเพิ่ม เลือก **เพิ่มฟิลด์** เพื่อรวมฟิลด์เพิ่มเติม

1. ระบุ **ชื่อ** และ **ชื่อฟิลด์เอาต์พุต**

1. เลือก **เสร็จสิ้น** เพื่อนำการเปลี่ยนแปลงมาใช้

1. เลือก **บันทึก** และ **รัน** เพื่อประมวลผลการเปลี่ยนแปลง 

## <a name="change-the-order-of-fields"></a>เปลี่ยนแปลงลำดับของฟิลด์

เอนทิตีบางรายการมีรายละเอียดมากกว่ารายการอื่น หากเอนทิตีมีข้อมูลล่าสุดเกี่ยวกับฟิลด์ คุณสามารถจัดลำดับความสำคัญเหนือเอนทิตีอื่นๆ เมื่อผสานค่า

1. เลือกฟิลด์ที่ผสาน
  
1. เลือก **แสดงเพิ่มเติม** และเลือก **แก้ไข**

1. ในบานหน้าต่าง **รวมฟิลด์** เลือก **เลื่อนขึ้น/ลง** เพื่อกำหนดลำดับ หรือลากและวางในตำแหน่งที่ต้องการ

1. ยืนยันการเปลี่ยนแปลง

1. เลือก **บันทึก** และ **รัน** เพื่อประมวลผลการเปลี่ยนแปลง

## <a name="configure-customer-id-generation"></a>กำหนดค่าการสร้างรหัสลูกค้า 

หลังจากกำหนดค่าฟิลด์การผสาน คุณสามารถกำหนดวิธีสร้างค่า CustomerId ซึ่งเป็นตัวระบุโปรไฟล์ลูกค้าที่ไม่ซ้ำกัน ขั้นตอนการผสานในกระบวนการรวมข้อมูลจะสร้างตัวระบุโปรไฟล์ลูกค้าที่ไม่ซ้ำกันกัน ตัวระบุคือ CustomerId ในเอนทิตี *ลูกค้า* ที่เป็นผลมาจากกระบวนการรวมข้อมูล 

CustomerId ในเอนทิตีลูกค้าขึ้นอยู่กับแฮชของค่าแรกของคีย์หลักของผู้ชนะที่ไม่ใช่ค่าว่าง คีย์เหล่านี้มาจากเอนทิตีที่ใช้ในระยะการจับคู่และการผสาน และได้รับอิทธิพลจากลำดับการจับคู่ ดังนั้น CustomerID ที่สร้างขึ้นจึงสามารถเปลี่ยนแปลงได้เมื่อค่าคีย์หลักเปลี่ยนแปลงในเอนทิตีหลักของลำดับการจับคู่ ดังนั้นค่าคีย์หลักจึงอาจไม่ได้แสดงถึงลูกค้ารายเดียวกันเสมอไป

การกำหนดค่ารหัสลูกค้าที่เสถียรทำให้คุณสามารถหลีกเลี่ยงการซ้ำกันของลูกค้าได้

**กำหนดค่ารหัสลูกค้าที่ไม่ซ้ำกัน**

1. ไปที่ **รวม** > **ผสาน**

1. เลือกแท็บ **คีย์** 

1. วางเมาส์บนแถว **CustomerId** แล้วเลือกตัวเลือก **กำหนดค่า**
   :::image type="content" source="media/customize-stable-id.png" alt-text="ควบคุมการปรับแต่งการสร้างรหัส":::

1. เลือกฟิลด์ไม่เกินห้าฟิลด์ที่จะประกอบเป็นรหัสลูกค้าที่ไม่ซ้ำกันและมีความเสถียรมากขึ้น เรกคอร์ดที่ไม่ตรงกับการกำหนดค่าของคุณจะใช้รหัสที่ระบบกำหนดค่าแทน  

1. เลือก **เสร็จสิ้น** และเรียกใช้กระบวนการผสานเพื่อใช้การเปลี่ยนแปลงของคุณ

## <a name="group-profiles-into-households-or-clusters"></a>จัดกลุ่มโปรไฟล์เป็นครัวเรือนหรือคลัสเตอร์

ในกระบวนการตั้งค่าคอนฟิกการสร้างโปรไฟล์ลูกค้า คุณสามารถกำหนดกฎเพื่อจัดกลุ่มโปรไฟล์ที่เกี่ยวข้องลงในคลัสเตอร์ได้ ปัจจุบันมีคลัสเตอร์อยู่สองชนิด – คลัสเตอร์ครัวเรือนและคลัสเตอร์แบบกำหนดเอง ระบบจะเลือกครัวเรือนที่มีกฎที่กำหนดไว้ล่วงหน้าโดยอัตโนมัติหากเอนทิตี *ลูกค้า* ประกอบด้วยฟิลด์เชิงความหมาย *Person.LastName* และ *Location.Address* คุณยังสามารถสร้างคลัสเตอร์ด้วยกฎและเงื่อนไขของคุณเองได้ เช่นเดียวกับ [กฎการจับคู่](match-entities.md#define-rules-for-match-pairs)

**กำหนดครัวเรือนหรือคลัสเตอร์**

1. ไปที่ **รวม** > **ผสาน**

1. บนแท็บ **ผสาน** เลือก **ขั้นสูง** > **สร้างคลัสเตอร์**

   :::image type="content" source="media/create-cluster.png" alt-text="การควบคุมเพื่อสร้างคลัสเตอร์ใหม่":::

1. เลือกระหว่างคลัสเตอร์ **ครัวเรือน** หรือ **กำหนดเอง** ถ้าฟิลด์เชิงความหมาย *Person.LastName* และ *Location.Address* มีอยู่ในเอนทิตี *ลูกค้า* ครัวเรือนจะถูกเลือกโดยอัตโนมัติ

1. ระบุชื่อสำหรับคลัสเตอร์และเลือก **เสร็จสิ้น**

1. เลือกแท็บ **คลัสเตอร์** เพื่อค้นหาคลัสเตอร์ที่คุณสร้างขึ้น

1. ระบุกฎและเงื่อนไขเพื่อกำหนดคลัสเตอร์ของคุณ

1. เลือก **เรียกใช้** เพื่อเรียกใช้กระบวนการผสานและสร้างคลัสเตอร์

หลังจากรันกระบวนการผสาน ตัวระบุคลัสเตอร์จะถูกเพิ่มเป็นฟิลด์ใหม่ในเอนทิตี *ลูกค้า*

## <a name="run-your-merge"></a>เรียกใช้การผสานของคุณ

ไม่ว่าคุณจะรวมแอตทริบิวต์ด้วยตนเองหรือปล่อยให้ระบบทำการผสาน คุณสามารถเรียกใช้การผสานได้เสมอ เลือก **เรียกใช้** บนหน้า **ผสาน** เพื่อเริ่มกระบวนการ

> [!div class="mx-imgBorder"]
> ![การผสานข้อมูล บันทึก และเรียกใช้](media/configure-data-merge-save-run.png "การผสานข้อมูล บันทึก และเรียกใช้")

เลือก **เรียกใช้ ผสาน เท่านั้น** หากคุณต้องการดูผลลัพธ์ที่แสดงในเอนทิตีลูกค้าแบบรวมเท่านั้น กระบวนการดาวน์สตรีมจะได้รับการรีเฟรชเป็น [กำหนดไว้ในกำหนดการรีเฟรช](system.md#schedule-tab)

เลือก **เรียกใช้ ผสาน และกระบวนการดาวน์สตรีม** เพื่อรีเฟรชระบบด้วยการเปลี่ยนแปลงของคุณ กระบวนการทั้งหมด ซึ่งรวมถึงการเพิ่มข้อมูล เซ็กเมนต์ และการวัด จะดำเนินการอีกครั้งโดยอัตโนมัติ หลังจากกระบวนการดาวน์สตรีมทั้งหมดเสร็จสิ้นแล้ว โปรไฟล์ของลูกค้าจะแสดงการเปลี่ยนแปลงใดๆ ที่คุณทำ

หากต้องการทำการเปลี่ยนแปลงเพิ่มเติมและเรียกใช้ขั้นตอนนี้อีกครั้ง คุณสามารถยกเลิกการผสานที่กำลังดำเนินการอยู่ เลือก **กำลังรีเฟรช ...** และเลือก **ยกเลิกงาน** ในบานหน้าต่างด้านข้างที่ปรากฏขึ้น

> [!TIP]
> หลังจากดำเนินกระบวนการรวมเข้าด้วยกันแล้ว ให้เลือกสถานะกระบวนการเพื่อเปิดบานหน้าต่าง **รายละเอียดงาน** ซึ่งจะให้ภาพรวมเกี่ยวกับเวลาดำเนินการ วันที่ดำเนินการล่าสุด และข้อผิดพลาดและคำเตือนทั้งหมดที่เกี่ยวข้องกับงาน เลือก **ดูรายละเอียด** เพื่อดูว่าเอนทิตีใดมีอยู่ในกระบวนการจับคู่ การแก้ไขข้อขัดแย้งสำเร็จหรือไม่ และเผยแพร่การอัปเดตสำเร็จหรือไม่  
> โดยมี [สถานะหกชนิด](system.md#status-types) สำหรับงาน/กระบวนการ นอกจากนี้กระบวนการส่วนใหญ่ [ขึ้นอยู่กับกระบวนการดาวน์สตรีมอื่นๆ](system.md#refresh-policies)  
> :::image type="content" source="media/process-detail-path.png" alt-text="เส้นทางการดูรายละเอียดแนวลึกเพื่อดูรายละเอียดการดำเนินการจากลิงก์สถานะงาน":::

## <a name="next-step"></a>ขั้นตอนถัดไป

กำหนดค่า [กิจกรรม](activities.md) [การเพิ่มข้อมูล](enrichment-hub.md) หรือ [ความสัมพันธ์](relationships.md) เพื่อรับข้อมูลเชิงลึกเพิ่มเติมเกี่ยวกับลูกค้าของคุณ

หากคุณกำหนดค่ากิจกรรม การเพิ่มข้อมูล หรือเซ็กเมนต์ไว้แล้ว รายการเหล่านี้จะได้รับการประมวลผลโดยอัตโนมัติเพื่อใช้ข้อมูลล่าสุดของลูกค้า

[!INCLUDE[footer-include](../includes/footer-banner.md)]
