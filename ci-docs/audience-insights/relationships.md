---
title: ความสัมพันธ์ระหว่างเอนทิตีและพาธของเอนทิตี
description: สร้างและจัดการความสัมพันธ์ระหว่างเอนทิตีจากแหล่งข้อมูลหลายแหล่ง
ms.date: 09/27/2021
ms.reviewer: mhart
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: CadeSanthaMSFT
ms.author: cadesantha
manager: shellyha
ms.openlocfilehash: c639cfca30cf1b57ada7d728311210b7210a37ac
ms.sourcegitcommit: f72d5b86dfdc7282c6c1918b1ab3962d7a1c9852
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 09/27/2021
ms.locfileid: "7557375"
---
# <a name="relationships-between-entities"></a>ความสัมพันธ์ระหว่างเอนทิตี

ความสัมพันธ์เชื่อมต่อเอนทิตี และกำหนดกราฟของข้อมูลของคุณ เมื่อเอนทิตีแชร์ตัวระบุร่วมซึ่งเป็นคีย์นอก คีย์นอกนี้สามารถอ้างอิงจากเอนทิตีหนึ่งไปยังอีกเอนทิตีหนึ่งได้ เอนทิตีที่เชื่อมต่อเปิดใช้งานข้อกำหนดของเซ็กเมนต์และการวัดตามแหล่งข้อมูลหลายแหล่ง

ความสัมพันธ์มีสามชนิด: 
- ความสัมพันธ์ของระบบที่ไม่สามารถแก้ไขได้ ซึ่งสร้างขึ้นโดยระบบโดยเป็นส่วนหนึ่งของกระบวนการรวมข้อมูล
- ความสัมพันธ์ที่มีการสืบทอดที่ไม่สามารถแก้ไขได้ ซึ่งสร้างขึ้นโดยอัตโนมัติจากการนำเข้าแหล่งข้อมูล 
- ความสัมพันธ์แบบกำหนดเองที่แก้ไขได้ ซึ่งสร้างและตั้งค่าคอนฟิกโดยผู้ใช้

## <a name="non-editable-system-relationships"></a>ความสัมพันธ์ของระบบที่ไม่สามารถแก้ไขได้

ในระหว่างการรวมข้อมูล จะมีการสร้างความสัมพันธ์ของระบบโดยอัตโนมัติตามการจับคู่อัจฉริยะ ความสัมพันธ์เหล่านี้ช่วยเชื่อมโยงเรกคอร์ดโปรไฟล์ลูกค้ากับเรกคอร์ดที่เกี่ยวข้อง ไดอะแกรมต่อไปนี้แสดงการสร้างความสัมพันธ์แบบอิงระบบสามรายการ เอนทิตีลูกค้าถูกจับคู่กับเอนทิตีอื่นเพื่อสร้างเอนทิตี *ลูกค้า* แบบรวม

:::image type="content" source="media/relationships-entities-merge.png" alt-text="ไดอะแกรมที่มีพาธความสัมพันธ์สำหรับเอนทิตีลูกค้าที่มีความสัมพันธ์แบบ 1-n สามรายการ":::

- **ความสัมพันธ์ *CustomerToContact*** ถูกสร้างขึ้นระหว่างเอนทิตี *ลูกค้า* และเอนทิตี *ผู้ติดต่อ* เอนทิตี *ลูกค้า* ได้รับฟิลด์คีย์ **Contact_contactID** เพื่อเชื่อมโยงกับฟิลด์คีย์เอนทิตี *ผู้ติดต่อ* **contactID**
- **ความสัมพันธ์ *CustomerToAccount*** ถูกสร้างขึ้นระหว่างเอนทิตี *ลูกค้า* และ เอนทิตี *ลูกค้าองค์กร* เอนทิตี *ลูกค้า* ได้รับฟิลด์คีย์ **Account_accountID** เพื่อเชื่อมโยงกับฟิลด์คีย์เอนทิตี *ลูกค้าองค์กร* **accountID**
- **ความสัมพันธ์ *CustomerToWebAccount*** ถูกสร้างขึ้นระหว่างเอนทิตี *ลูกค้า* และเอนทิตี *WebAccount* เอนทิตี *ลูกค้า* ได้รับฟิลด์คีย์ **WebAccount_webaccountID** เพื่อเชื่อมโยงกับฟิลด์คีย์เอนทิตี *WebAccount* **webaccountID**

## <a name="non-editable-inherited-relationships"></a>ความสัมพันธ์ที่มีการสืบทอดซึ่งไม่สามารถแก้ไขได้

ในระหว่างกระบวนการนำเข้าข้อมูล ระบบจะตรวจสอบแหล่งข้อมูลสำหรับความสัมพันธ์ที่มีอยู่ หากไม่มีความสัมพันธ์อยู่ ระบบจะสร้างความสัมพันธ์โดยอัตโนมัติ นอกจากนี้ ความสัมพันธ์เหล่านี้ยังใช้ในกระบวนการดาวน์สตรีมอีกด้วย

## <a name="create-a-custom-relationship"></a>สร้างความสัมพันธ์แบบกำหนดเอง

ความสัมพันธ์ประกอบด้วย *เอนทิตีต้นทาง* ที่มีคีย์นอก และ *เอนทิตีเป้าหมาย* ที่คีย์นอกของเอนทิตีต้นทางชี้ไป 

1. ในข้อมูลเชิงลึกกลุ่มเป้าหมาย ให้ไปที่ **ข้อมูล** > **ความสัมพันธ์**

2. เลือก **ความสัมพันธ์ใหม่**

3. ในบานหน้าต่าง **ความสัมพันธ์ใหม่** ให้ป้อนข้อมูลต่อไปนี้:

   :::image type="content" source="media/relationship-add.png" alt-text="บานหน้าต่างด้านความสัมพันธ์ใหม่พร้อมฟิลด์ป้อนข้อมูลที่ว่างเปล่า":::

   - **ชื่อความสัมพันธ์**: ชื่อที่สะท้อนถึงจุดประสงค์ของความสัมพันธ์ ตัวอย่าง: CustomerToSupportCase
   - **คำอธิบาย**: คำอธิบายของความสัมพันธ์
   - **เอนทิตีต้นทาง**: เอนทิตีที่ใช้เป็นต้นทางในความสัมพันธ์ ตัวอย่าง: SupportCase
   - **เอนทิตีปลายทาง**: เอนทิตีที่ใช้เป็นเป้าหมายในความสัมพันธ์ ตัวอย่าง: ลูกค้า
   - **คาร์ดินัลลิตี้ต้นทาง**: ระบุคาร์ดินาลลิตี้ของเอนทิตีต้นทาง คาร์ดินาลิตี้อธิบายจำนวนขององค์ประกอบที่เป็นไปได้ในชุด ซึ่งเกี่ยวข้องกับคาร์ดินาลิตี้เป้าหมายเสมอ คุณสามารถเลือกระหว่าง **หนึ่ง** และ **หลากหลาย** สนับสนุนเฉพาะความสัมพันธ์แบบหลายต่อหนึ่งและแบบหนึ่งต่อหนึ่ง  
     - กลุ่มต่อหนึ่ง: เรกคอร์ดต้นทางหลายรายการสามารถเชื่อมโยงกับเรกคอร์ดเป้าหมายเดียว ตัวอย่าง: กรณีการสนับสนุนหลายรายการจากลูกค้ารายเดียว
     - หนึ่งต่อหนึ่ง: เรกคอร์ดต้นทางเดียวเกี่ยวข้องกับเรกคอร์ดเป้าหมายเดียว ตัวอย่าง: รหัสความภักดีหนึ่งรหัสสำหรับลูกค้ารายเดียว

     > [!NOTE]
     > สามารถสร้างความสัมพันธ์แบบกลุ่มต่อกลุ่มได้โดยใช้ความสัมพันธ์แบบกลุ่มต่อหนึ่งสองรายการและเอนทิตีการเชื่อมโยง ซึ่งเชื่อมต่อเอนทิตีต้นทางและเอนทิตีเป้าหมาย

   - **คาร์ดินาลลิตี้เป้าหมาย**: เลือกคาร์ดินาลลิตี้ของเร็กคอร์ดเอนทิตีเป้าหมาย 
   - **ฟิลด์คีย์ต้นทาง**: ฟิลด์คีย์นอกในเอนทิตีต้นทาง ตัวอย่าง: SupportCase สามารถใช้ CaseID เป็นฟิลด์คีย์นอก
   - **ฟิลด์คีย์เป้าหมาย**: ฟิลด์คีย์ของเอนทิตีเป้าหมาย ตัวอย่าง ลูกค้าสามารถใช้ฟิลด์คีย์ **CustomerID**

4. เลือก **บันทึก** เพื่อสร้างความสัมพันธ์แบบกำหนดเอง

## <a name="view-relationships"></a>ดูความสัมพันธ์

หน้าความสัมพันธ์แสดงรายการความสัมพันธ์ทั้งหมดที่ถูกสร้างขึ้น แถวแต่ละแถวแสดงถึงความสัมพันธ์ ซึ่งยังรวมถึงรายละเอียดเกี่ยวกับเอนทิตีต้นทาง เอนทิตีเป้าหมาย และคาร์ดินาลลิตี้ 

:::image type="content" source="media/relationships-list.png" alt-text="รายการของความสัมพันธ์และตัวเลือกในแถบการดำเนินการของหน้าความสัมพันธ์":::

หน้านี้นำเสนอชุดตัวเลือกสำหรับความสัมพันธ์ที่มีอยู่และความสัมพันธ์ใหม่: 
- **ความสัมพันธ์ใหม่**: [สร้างความสัมพันธ์แบบกำหนดเอง](#create-a-custom-relationship)
- **ตัวสร้างภาพ**: [สำรวจตัวสร้างภาพความสัมพันธ์](#explore-the-relationship-visualizer) เพื่อดูแผนภาพเครือข่ายของความสัมพันธ์และคาร์ดินาลลิตี้ที่มีอยู่
- **กรองโดย**: เลือกประเภทของความสัมพันธ์เพื่อแสดงในรายการ
- **ค้นหาความสัมพันธ์**: ใช้การค้นหาตามข้อความเกี่ยวกับคุณสมบัติของความสัมพันธ์

### <a name="explore-the-relationship-visualizer"></a>สำรวจตัวสร้างภาพความสัมพันธ์

ตัวสร้างภาพความสัมพันธ์แสดงแผนภาพเครือข่ายของความสัมพันธ์ที่มีอยู่ระหว่างเอนทิตีที่เชื่อมต่อและคาร์ดินาลลิตี้ นอกจากนี้ ยังแสดงภาพพาธความสัมพันธ์ด้วย

ในการกำหนดมุมมองเอง คุณสามารถเปลี่ยนตำแหน่งของกล่องได้โดยการลากบนพื้นที่ทำงาน

:::image type="content" source="media/relationship-visualizer.png" alt-text="ภาพหน้าจอของไดอะแกรมเครือข่ายตัวสร้างภาพความสัมพันธ์พร้อมการเชื่อมต่อระหว่างเอนทิตีที่เกี่ยวข้อง":::

ตัวเลือกที่พร้อมใช้งาน: 
- **ส่งออกเป็นรูปภาพ**: บันทึกมุมมองปัจจุบันเป็นไฟล์รูปภาพ
- **เปลี่ยนเป็นเค้าโครงแนวนอน/แนวตั้ง**: เปลี่ยนการจัดตำแหน่งของเอนทิตีและความสัมพันธ์
- **แก้ไข**: อัปเดตคุณสมบัติของความสัมพันธ์ที่กำหนดเองในบานหน้าต่างแก้ไข และบันทึกการเปลี่ยนแปลง

## <a name="relationship-paths"></a>เส้นทางความสัมพันธ์

เส้นทางความสัมพันธ์อธิบายถึงเอนทิตีที่เชื่อมต่อกับความสัมพันธ์ระหว่างเอนทิตีต้นทางและเอนทิตีเป้าหมาย ซึ่งมีการใช้เมื่อสร้างเซ็กเมนต์หรือการวัดที่รวมเอนทิตีอื่นที่ไม่ใช่เอนทิตีโปรไฟล์แบบรวม และมีหลายตัวเลือกในการเข้าถึงเอนทิตีโปรไฟล์แบบรวม 

เส้นทางความสัมพันธ์แจ้งระบบถึงความสัมพันธ์ในการเข้าถึงเอนทิตีโปรไฟล์แบบรวม พาธความสัมพันธ์ที่แตกต่างกันสามารถให้ผลลัพธ์ที่แตกต่างกัน

ตัวอย่างเช่น เอนทิตี *eCommerce_eCommercePurchases* มีความสัมพันธ์ต่อไปนี้ไปยังเอนทิตี *ลูกค้า* ของโปรไฟล์แบบรวม:

- eCommerce_eCommercePurchases > ลูกค้า
- eCommerce_eCommercePurchases > eCommerce_eCommerceContacts > POS_posPurchases > ลูกค้า
- eCommerce_eCommercePurchases > eCommerce_eCommerceContacts > POS_posPurchases > loyaltyScheme_loyCustomers > ลูกค้า 

เส้นทางความสัมพันธ์กำหนดว่าเอนทิตีใดที่คุณสามารถใช้ได้เมื่อสร้างกฎสำหรับการวัดหรือเซ็กเมนต์ การเลือกตัวเลือกที่มีพาธความสัมพันธ์ที่ยาวที่สุดมักจะให้ผลลัพธ์ที่น้อยกว่า เนื่องจากเรกคอร์ดที่ตรงกันจำเป็นต้องเป็นส่วนหนึ่งของเอนทิตีทั้งหมด ในตัวอย่างนี้ ลูกค้าต้องซื้อสินค้าผ่านอีคอมเมิร์ซ (eCommerce_eCommercePurchases) ณ จุดขาย (POS_posPurchases) และเข้าร่วมโปรแกรมตอบแทนลูกค้าสมาชิกของเรา (loyaltyScheme_loyCustomers) เมื่อเลือกตัวเลือกแรก คุณน่าจะได้ผลลัพธ์มากกว่า เพราะลูกค้าจำเป็นต้องมีอยู่ในเอนทิตีเพิ่มเติมหนึ่งรายการเท่านั้น

### <a name="direct-relationship"></a>ความสัมพันธ์โดยตรง

ความสัมพันธ์จัดประเภทเป็น **ความสัมพันธ์โดยตรง** เมื่อเอนทิตีต้นทางเกี่ยวข้องกับเอนทิตีเป้าหมายด้วยความสัมพันธ์เดียวเท่านั้น

ตัวอย่างเช่น หากเอนทิตีกิจกรรมที่ชื่อ *eCommerce_eCommercePurchases* เชื่อมต่อกับเอนทิตีเป้าหมาย *eCommerce_eCommerceContacts* ผ่าน *ContactId* เท่านั้น ถือเป็นความสัมพันธ์โดยตรง

:::image type="content" source="media/direct_Relationship.png" alt-text="เอนทิตีต้นทางเชื่อมต่อโดยตรงกับเอนทิตีเป้าหมาย":::

#### <a name="multi-path-relationship"></a>ความสัมพันธ์แบบหลายเส้นทาง

**ความสัมพันธ์แบบหลายเส้นทาง** เป็นความสัมพันธ์โดยตรงชนิดพิเศษที่เชื่อมต่อเอนทิตีต้นทางกับเอนทิตีเป้าหมายมากกว่าหนึ่งรายการ

ตัวอย่างเช่น หากเอนทิตีกิจกรรมที่ชื่อ *eCommerce_eCommercePurchases* เชื่อมโยงกับสองเอนทิตี คือทั้ง *eCommerce_eCommerceContacts* และ *loyaltyScheme_loyCustomers* ถือเป็นความสัมพันธ์แบบหลายเส้นทาง

:::image type="content" source="media/multi-path_relationship.png" alt-text="เอนทิตีต้นทางเชื่อมต่อโดยตรงกับเอนทิตีเป้าหมายมากกว่าหนึ่งรายการผ่านความสัมพันธ์แบบหลายฮอป":::

### <a name="indirect-relationship"></a>ความสัมพันธ์โดยอ้อม

ความสัมพันธ์จัดประเภทเป็น **ความสัมพันธ์โดยอ้อม** เมื่อเอนทิตีต้นทางเกี่ยวข้องกับเอนทิตีเพิ่มเติมอย่างน้อยหนึ่งรายการก่อนที่จะเชื่อมโยงกับเอนทิตีเป้าหมาย

#### <a name="multi-hop-relationship"></a>ความสัมพันธ์แบบหลายฮอป

*ความสัมพันธ์แบบหลายฮอป* เป็น *ความสัมพันธ์โดยอ้อม* ที่อนุญาตให้คุณเชื่อมต่อเอนทิตีต้นทางกับเอนทิตีเป้าหมายผ่านเอนทิตีตัวกลางอื่นๆ อย่างน้อยหนึ่งรายการ

ตัวอย่างเช่น หากเอนทิตีกิจกรรมที่ชื่อ *eCommerce_eCommercePurchasesWest* เชื่อมต่อกับเอนทิตีตัวกลางที่ชื่อ *eCommerce_eCommercePurchasesEast* แล้วเชื่อมต่อกับเอนทิตีเป้าหมายที่ชื่อ *eCommerce_eCommerceContacts* ถือเป็นความสัมพันธ์แบบหลายฮอป

:::image type="content" source="media/multi-hop_relationship.png" alt-text="เอนทิตีต้นทางเชื่อมต่อโดยตรงกับเอนทิตีเป้าหมายที่มีเอนทิตีตัวกลาง":::

### <a name="multi-hop-multi-path-relationship"></a>ความสัมพันธ์แบบหลายฮอปและหลายเส้นทาง

ความสัมพันธ์แบบหลายฮอปและแบบหลายเส้นทางสามารถใช้ร่วมกันเพื่อสร้าง **ความสัมพันธ์แบบหลายฮอป, หลายเส้นทาง** ความสัมพันธ์ชนิดพิเศษนี้รวมฟังก์ชันของ **ความสัมพันธ์แบบหลายฮอป** และ **ความสัมพันธ์แบบหลายเส้นทาง** เข้าด้วยกัน ซึ่งช่วยให้คุณเชื่อมต่อกับเอนทิตีเป้าหมายได้มากกว่าหนึ่งรายการขณะที่ใช้เอนทิตีตัวกลาง

ตัวอย่างเช่น หากเอนทิตีกิจกรรมที่ชื่อ *eCommerce_eCommercePurchasesWest* เชื่อมต่อกับเอนทิตีตัวกลางที่ชื่อ *eCommerce_eCommercePurchasesEast* แล้วเชื่อมต่อกับเอนทิตีเป้าหมายสองรายการ คือทั้ง *eCommerce_eCommerceContacts* และ *loyaltyScheme_loyCustomers* ถือเป็นความสัมพันธ์แบบหลายฮอปหลายเส้นทาง

:::image type="content" source="media/multi-hop_multi-path_relationship.png" alt-text="เอนทิตีต้นทางเชื่อมต่อโดยตรงกับเอนทิตีเป้าหมายหนึ่งรายการและเชื่อมต่อกับเอนทิตีเป้าหมายอื่นผ่านเอนทิตัวกลาง":::

## <a name="manage-existing-relationships"></a>จัดการความสัมพันธ์ที่มีอยู่ 

ในหน้าความสัมพันธ์ แต่ละความสัมพันธ์จะถูกแสดงเป็นแถว 

เลือกความสัมพันธ์ และเลือกหนึ่งในตัวเลือกต่อไปนี้: 
 
- **แก้ไข**: อัปเดตคุณสมบัติของความสัมพันธ์ที่กำหนดเองในบานหน้าต่างแก้ไข และบันทึกการเปลี่ยนแปลง
- **ลบ**: ลบความสัมพันธ์ที่กำหนดเอง
- **ดู**: ดูความสัมพันธ์ที่สร้างและสืบทอดโดยระบบ 

## <a name="next-step"></a>ขั้นตอนถัดไป

ระบบและความสัมพันธ์แบบกำหนดเองถูกใช้เพื่อ [สร้างเซ็กเมนต์](segments.md) และ [การวัด](measures.md) โดยยึดตามแหล่งข้อมูลหลายแหล่งที่ไม่ได้เป็นแบบไซโลอีกต่อไป

[!INCLUDE[footer-include](../includes/footer-banner.md)]
