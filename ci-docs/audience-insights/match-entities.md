---
title: จับคู่เอนทิตีสำหรับการรวมข้อมูล
description: จับคู่เอนทิตีเพื่อสร้างโปรไฟล์ลูกค้าแบบรวม
ms.date: 01/28/2022
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: tutorial
author: adkuppa
ms.author: adkuppa
ms.reviewer: mhart
manager: shellyha
searchScope:
  - ci-match
---

# <a name="match-entities"></a>จับคู่เอนทิตี

เฟสการจับคู่ระบุวิธีการรวมชุดข้อมูลของคุณเข้ากับชุดข้อมูลโปรไฟล์ลูกค้าแบบรวม หลังจากทำ [ขั้นตอนการแมป](map-entities.md) ในกระบวนการรวมข้อมูลจนเสร็จสมบูรณ์ คุณก็พร้อมที่จะจับคู่เอนทิตีของคุณแล้ว เฟสการจับคู่ต้องมี เอนทิตีที่แมปสองรายการ เป็นอย่างน้อย

เพจการจับคู่ประกอบด้วยสามส่วน: 
- เมตริกหลักที่สรุปจำนวนเรกคอร์ดที่ตรงกัน
- จับคู่ลำดับและกฎสำหรับการจับคู่ข้ามเอนทิตี
- กฎสำหรับการขจัดข้อมูลซ้ำซ้อนของเอนทิตีการจับคู่

## <a name="specify-the-match-order"></a>ระบุลำดับการจับคู่

ไปที่ **ข้อมูล** > **รวมกัน** > **การจับคู่** และเลือก **กำหนดลำดับ** เพื่อเริ่มเฟสการจับคู่

การจับคู่แต่ละรายการจะรวมสองเอนทิตีขึ้นไปให้เป็นเอนทิตีเดียวที่รวมเข้าด้วยกัน ขณะเดียวกัน ก็จะเก็บเรกคอร์ดลูกค้าที่ไม่ซ้ำกันด้วย ตัวอย่างเช่น เราเลือกสองเอนทิตี: **eCommerce:eCommerceContacts** เป็นเอนทิตีหลัก และ **LoyaltyScheme:loyCustomers** เป็นเอนทิตีรอง ลำดับของเอนทิตีจะระบุลำดับที่ระบบจะพยายามจับคู่เรกคอร์ด

:::image type="content" source="media/match-page.png" alt-text="ภาพหน้าจอของเพจการจับคู่ในพื้นที่รวมของกระบวนการรวมข้อมูล":::
  
เอนทิตีหลัก *eCommerce:eCommerceContacts* จับคู่กับเอนทิตี *LoyaltyScheme:loyCustomers* ถัดไป ชุดข้อมูลที่มาจากขั้นตอนการจับคู่ครั้งแรกจะจับคู่กับเอนทิตีต่อไปนี้หากคุณมีเอนทิตีมากกว่าสองรายการ

> [!IMPORTANT]
> เอนทิตีที่คุณเลือกเป็นเอนทิตีหลักจะทำหน้าที่เป็นพื้นฐานสำหรับชุดข้อมูลโปรไฟล์แบบรวมของคุณ เอนทิตีเพิ่มเติมที่เลือกในระหว่างเฟสการจับคู่จะถูกเพิ่มลงในเอนทิตีนี้ แต่ไม่ได้หมายความว่าเอนทิตีรวมกันจะมีข้อมูล *ทั้งหมด* ที่รวมอยู่ในเอนทิตีนี้
>
> มีข้อควรพิจารณาสองประการที่สามารถช่วยให้คุณเลือกลำดับชั้นของเอนทิตีของคุณได้ดังนี้:
>
> - เลือกเอนทิตีที่มีข้อมูลโปรไฟล์ที่สมบูรณ์และน่าเชื่อถือที่สุดเกี่ยวกับลูกค้าของคุณเป็นเอนทิตีหลัก
> - เลือกเอนทิตีที่มีหลายแอตทริบิวต์เหมือนกันกับเอนทิตีอื่น (เช่น ชื่อ หมายเลขโทรศัพท์ หรือที่อยู่อีเมล) เป็นเอนทิตีหลัก

หลังจากระบุลำดับการจับคู่แล้ว คุณจะเห็นคู่การจับคู่ที่กำหนดไว้ในส่วน **รายละเอียดเรกคอร์ดที่จับคู่** ใน **ข้อมูล** > **รวม** > **จับคู่** เมตริกหลักจะว่างเปล่าจนกว่ากระบวนการจับคู่จะเสร็จสิ้น

## <a name="define-rules-for-match-pairs"></a>กำหนดกฎสำหรับคู่การจับคู่

กฎการจับคู่ระบุตรรกะที่คู่ของเอนทิตีที่ระบุจะถูกจับคู่

คำเตือน **ต้องมีกฎ** ที่อยู่ถัดจากชื่อเอนทิตีแนะนำว่าไม่มีกฎการจับคู่กำหนดไว้สำหรับคู่การจับคู่ 

:::image type="content" source="media/match-rule-add.png" alt-text="ภาพหน้าจอของส่วนรายละเอียดเรกคอร์ดที่จับคู่พร้อมตัวควบคุมเพื่อเพิ่มกฎที่ไฮไลต์":::

1. เลือก **เพิ่มกฎ** ภายใต้เอนทิตีใน **รายละเอียดเรกคอร์ดที่จับคู่** เพื่อกำหนดกฎการจับคู่

1. ในบานหน้าต่าง **สร้างกฎ** ให้กำหนดค่าเงื่อนไขสำหรับกฎ

   :::image type="content" source="media/match-rule-conditions.png" alt-text="ภาพหน้าจอของกฎการจับคู่แบบเปิดพร้อมเงื่อนไขที่เพิ่มเข้ามา":::

   - **เอนทิตี/ฟิลด์ (แถวแรก)**: เลือกเอนทิตีที่เกี่ยวข้องและแอตทริบิวต์เพื่อระบุคุณสมบัติของเรกคอร์ดที่มีแนวโน้มไม่ซ้ำกันสำหรับลูกค้า ตัวอย่างเช่น หมายเลขโทรศัพท์หรือที่อยู่อีเมล หลีกเลี่ยงการจับคู่ตามแอตทริบิวต์ชนิดกิจกรรม ตัวอย่างเช่น รหัสการซื้อมีแนวโน้มที่จะไม่พบการจับคู่ในชนิดของเรกคอร์ดอื่นๆ

   - **เอนทิตี/ฟิลด์ (แถวที่สอง)**: เลือกแอตทริบิวต์ที่เกี่ยวข้องกับแอตทริบิวต์ของเอนทิตีที่ระบุในแถวแรก

   - **นอร์มัลไลซ์**: เลือกจากตัวเลือกการนอร์มัลไลซ์ต่อไปนี้สำหรับแอตทริบิวต์ที่เลือก 
     - ช่องว่าง: ลบช่องว่างทั้งหมด *Hello   World* กลายเป็น *HelloWorld*
     - สัญลักษณ์: ลบสัญลักษณ์และอักขระพิเศษทั้งหมด *Head&Shoulder* กลายเป็น *HeadShoulder*
     - ข้อความเป็นตัวพิมพ์เล็ก: แปลงอักขระทั้งหมดเป็นตัวพิมพ์เล็ก *ตัวพิมพ์ใหญ่และชื่อตัวพิมพ์ใหญ่ทั้งหมด* กลายเป็น *ตัวพิมพ์ใหญ่และชื่อตัวพิมพ์ใหญ่ทั้งหมด*
     - Unicode เป็น ASCII: แปลงสัญกรณ์ Unicode เป็นอักขระ ASCII */u00B2* กลายเป็น *2*
     - ตัวเลข: แปลงระบบตัวเลขอื่นๆ เช่น เลขโรมัน เป็นเลขอารบิก *VIII* กลายเป็น *8*
     - ชนิดของความหมาย: กำหนดมาตรฐานของชื่อ ชื่อเรื่อง หมายเลขโทรศัพท์ ที่อยู่ ฯลฯ 

   - **ความแม่นยำ**: ตั้งค่าระดับความแม่นยำที่จะใช้สำหรับเงื่อนไขนี้ 
     - **พื้นฐาน**: เลือกจาก *ต่ำ*, *ปานกลาง*, *สูง* และ *แน่นอน* เลือก **พอดี** เพื่อจับคู่เรกคอร์ดที่ตรงกัน 100 เปอร์เซ็นต์เท่านั้น เลือกหนึ่งในระดับอื่นๆ เพื่อให้จับคู่เรกคอร์ดที่ไม่เหมือนกัน 100 เปอร์เซ็นต์
     - **กำหนดเอง**: กำหนดเปอร์เซ็นต์ที่เรกคอร์ดต้องตรงกัน ระบบจะจับคู่เรกคอร์ดที่ผ่านเกณฑ์นี้เท่านั้น

1. ระบุ **ชื่อ** สำหรับกฎ

1. [เพิ่มเงื่อนไขเพิ่มเติม](#add-conditions-to-a-rule) หรือเลือก **เสร็จ** เพื่อสรุปกฎ

1. หรือ [เพิ่มกฎเพิ่มเติม](#add-rules-to-a-match-pair)

1. เลือก **บันทึก** เพื่อนำการเปลี่ยนแปลงของคุณมาใช้

### <a name="add-conditions-to-a-rule"></a>เพิ่มเงื่อนไขลงในกฎ

หากต้องการจับคู่เอนทิตีเฉพาะเมื่อแอตทริบิวต์ตรงตามเงื่อนไขหลายข้อ ให้เพิ่มเงื่อนไขเพิ่มเติมในกฎการจับคู่ เงื่อนไขเชื่อมต่อกับตัวดำเนินการเชิงตรรกะ และจะมีการดำเนินการก็ต่อเมื่อตรงตามเงื่อนไขทั้งหมดเท่านั้น

1. ไปที่ **ข้อมูล** > **รวม** > **จับคู่** และเลือก **แก้ไข** ในกฎที่คุณต้องการเพิ่มเงื่อนไข

1. ในบานหน้าต่าง **แก้ไขกฎ** ให้เลือก **เพิ่มเงื่อนไข**

1. เลือก **เสร็จสิ้น** เพื่อบันทึกกฎ

### <a name="add-rules-to-a-match-pair"></a>เพิ่มกฎลงในคู่การจับคู่

กฎการจับคู่แสดงถึงชุดเงื่อนไข หากต้องการจับคู่เอนทิตีตามเงื่อนไขที่อิงตามแอตทริบิวต์หลายรายการ ให้เพิ่มกฎเพิ่มเติม

1.  ไปที่ **ข้อมูล** > **รวม** > **จับคู่** และเลือก **เพิ่มกฎ** ในเอนทิตีที่คุณต้องการเพิ่มกฎ

2. ทำตามขั้นตอนใน [กำหนดกฎสำหรับคู่การจับคู่](#define-rules-for-match-pairs)

> [!NOTE]
> ลำดับของกฎมีความสำคัญ อัลกอริทึมการจับคู่จะพยายามจับคู่ตามเกณฑ์ของกฎข้อแรกของคุณและดำเนินการต่อกับกฎข้อที่สองเฉพาะเมื่อไม่มีการระบุการจับคู่กับกฎข้อแรก

### <a name="change-the-entity-order-in-match-rules"></a>เปลี่ยนลำดับเอนทิตีในกฎการจับคู่

คุณสามารถจัดลำดับเอนทิตีใหม่สำหรับกฎการจับคู่เพื่อเปลี่ยนลำดับในการประมวลผลได้ กฎที่ขัดแย้งกันเนื่องจากลำดับที่เปลี่ยนแปลง จะถูกลบออก คุณต้องสร้างกฎที่ถูกลบใหม่ด้วยการกำหนดค่าที่อัปเดต

1. ไปที่ **ข้อมูล** > **รวม** > **จับคู่** และเลือก **แก้ไข**

1. ในบานหน้าต่าง **แก้ไขกฎ** เลือกตัวควบคุม **เลื่อนขึ้น/ลง** หรือลากและวางเอนทิตีเพื่อเปลี่ยนลำดับ

   :::image type="content" source="media/reorder-match-rules.png" alt-text="ตัวเลือกในการเปลี่ยนลำดับในการประมวลผลเอนทิตีในระยะการจับคู่":::

1. เลือก **เสร็จสิ้น** เพื่อบันทึกกฎ

## <a name="define-deduplication-on-a-match-entity"></a>กำหนดการขจัดข้อมูลซ้ำซ้อนในเอนทิตีที่ตรงกัน

นอกจาก [กฎการจับคู่ข้ามเอนทิตี](#define-rules-for-match-pairs) คุณยังสามารถระบุกฎการขจัดข้อมูลซ้ำซ้อนได้ด้วย *การขจัดข้อมูลซ้ำซ้อน* เป็นอีกกระบวนการหนึ่งเมื่อมีการจับคู่เรกคอร์ด โดยจะระบุเรกคอร์ดที่ซ้ำกันและรวมเข้าเป็นเรกคอร์ดเดียว เรกคอร์ดต้นทางได้รับการเชื่อมโยงกับเรกคอร์ดที่ผนวกกับรหัสสำรอง

เรกคอร์ดที่ไม่ซ้ำกันจะมีการใช้ในกระบวนการจับคู่ข้ามเอนทิตี การขจัดข้อมูลซ้ำซ้อนจะเกิดขึ้นกับแต่ละเอนทิตีและสามารถกำหนดค่าทุกเอนทิตีที่ใช้ในคู่การจับคู่

การระบุกฎการขจัดข้อมูลซ้ำซ้อนไม่บังคับ หากไม่มีการกำหนดค่ากฎดังกล่าว ระบบจะใช้กฎที่กำหนดโดยระบบ กฎดังกล่าวจะรวมเรกคอร์ดทั้งหมดเป็นเรกคอร์ดเดียวก่อนที่จะส่งข้อมูลเอนทิตีไปยังการจับคู่ข้ามเอนทิตีเพื่อเพิ่มประสิทธิภาพ

### <a name="add-deduplication-rules"></a>เพิ่มกฎการขจัดข้อมูลซ้ำซ้อน

1. ไปที่ **ข้อมูล** > **รวม** > **จับคู่**

1. ในส่วน **รายละเอียดเรกคอร์ดที่ซ้ำซ้อน** ให้เลือก **ตั้งค่าเอนทิตี** ในกรณีที่สร้างกฎการขจัดข้อมูลซ้ำซ้อนแล้ว ให้เลือก **แก้ไข**

1. ในบานหน้าต่าง **รวมการกำหนดลักษณะ** เลือกเอนทิตีที่คุณต้องการเรียกใช้การขจัดข้อมูลซ้ำซ้อน

   1. ระบุวิธีการรวมเรกคอร์ดที่ซ้ำกันและเลือกหนึ่งในสามตัวเลือก:
      - **ที่กรอกข้อมูลมากที่สุด** : ระบุเรกคอร์ดที่มีฟิลด์แอตทริบิวต์ที่กรอกข้อมูลมากที่สุดเป็นเรกคอร์ดผู้ชนะ ซึ่งเป็นตัวเลือกการผสานเริ่มต้น
      - **ล่าสุด**: ระบุเรกคอร์ดผู้ชนะโดยพิจารณาจากความใหม่ที่สุด ต้องมีวันที่หรือฟิลด์ตัวเลขเพื่อกำหนดความใหม่
      - **รายการที่เก่าที่สุด**: ระบุเรกคอร์ดผู้ชนะโดยพิจารณาจากความใหม่น้อยที่สุด ต้องมีวันที่หรือฟิลด์ตัวเลขเพื่อกำหนดความใหม่

   1. หรือเลือก **ขั้นสูง** เพื่อกำหนดกฎการขจัดข้อมูลซ้ำซ้อนในแอตทริบิวต์แต่ละรายการของเอนทิตี ตัวอย่างเช่น คุณสามารถเลือกเก็บอีเมลล่าสุดและที่อยู่ที่สมบูรณ์ที่สุดจากเรกคอร์ดต่างๆ ขยายเอนทิตีเพื่อดูแอตทริบิวต์ทั้งหมดและกำหนดตัวเลือกที่จะใช้สำหรับแต่ละแอตทริบิวต์ หากคุณเลือกตัวเลือกตามความใหม่ คุณต้องระบุฟิลด์วันที่/เวลาที่กำหนดความใหม่ด้วย 
 
      > [!div class="mx-imgBorder"]
      > ![กฎการขจัดข้อมูลซ้ำซ้อนขั้นตอนที่ 1](media/match-selfconflation.png "กฎการขจัดข้อมูลซ้ำซ้อนขั้นตอนที่ 1")

   1. เลือก **เสร็จสิ้น** เพื่อใช้การกำหนดลักษณะการผสานของคุณสำหรับการขจัดข้อมูลซ้ำซ้อน
 
1. เมื่อเลือกเอนทิตีและตั้งค่าการกำหนดลักษณะการผสานแล้ว ให้เลือก **เพิ่มกฎ** เพื่อกำหนดกฎการขจัดข้อมูลซ้ำซ้อนในระดับเอนทิตี
   - **เลือกฟิลด์** แสดงรายการฟิลด์ที่มีอยู่ทั้งหมดจากเอนทิตีนั้น เลือกฟิลด์ที่คุณต้องการตรวจสอบรายการที่ซ้ำกัน เลือกฟิลด์ที่มีแนวโน้มไม่ซ้ำกันสำหรับลูกค้าหนึ่งราย ตัวอย่างเช่น ที่อยู่อีเมล หรือชื่อ เมือง และหมายเลขโทรศัพท์รวมกัน
   - ระบุการตั้งค่าการนอร์มัลไลซ์และความแม่นยำ
   - กำหนดเงื่อนไขเพิ่มเติมได้โดยเลือก **เพิ่มเงื่อนไข**
 
   > [!div class="mx-imgBorder"]
   > ![กฎการขจัดข้อมูลซ้ำซ้อนขั้นตอนที่ 2](media/match-selfconflation-rules.png "กฎการขจัดข้อมูลซ้ำซ้อนขั้นตอนที่ 2")

  คุณสามารถสร้างกฎการขจัดข้อมูลซ้ำซ้อนหลายรายการสำหรับเอนทิตี 

1. การเรียกใช้กระบวนการจับคู่ตอนนี้จะจัดกลุ่มเรกคอร์ดตามเงื่อนไขที่กำหนดไว้ในกฎการขจัดข้อมูลซ้ำซ้อน หลังจากจัดกลุ่มเรกคอร์ดแล้ว นโยบายการผสานจะมีการนำไปใช้เพื่อระบุเรกคอร์ดผู้ชนะ

1. จากนั้นเรกคอร์ดผู้ชนะนี้จะถูกส่งต่อไปยังการจับคู่ข้ามเอนทิตี พร้อมกับเรกคอร์ดที่ไม่ใช่ผู้ชนะ (เช่น รหัสทางเลือก) เพื่อปรับปรุงคุณภาพการจับคู่

1. กฎการจับคู่ที่กำหนดเองใดๆ ที่กำหนดไว้จะแทนที่กฎการขจัดข้อมูลซ้ำซ้อน หากกฎการขจัดข้อมูลซ้ำซ้อนระบุเรกคอร์ดที่ตรงกัน และกฎการจับคู่แบบกำหนดเองมีการตั้งค่าเป็นไม่ตรงกับเรกคอร์ดเหล่านั้น จะไม่มีการจับคู่เรกคอร์ดทั้งสองนี้

1. หลังจาก [ดำเนินขั้นตอนการจับคู่](#run-the-match-process) คุณจะเห็นสถิติการขจัดข้อมูลซ้ำซ้อนในไทล์เมตริกหลัก

### <a name="deduplication-output-as-an-entity"></a>ผลลัพธ์รายการที่ซ้ำกันเป็นเอนทิตี

กระบวนการขจัดข้อมูลซ้ำซ้อนจะสร้างเอนทิตีใหม่สำหรับทุกเอนทิตีจากคู่การจับคู่เพื่อระบุเรกคอร์ดที่ไม่ซ้ำกัน เอนทิตีเหล่านี้สามารถพบได้พร้อมกับ **ConflationMatchPairs:CustomerInsights** ในส่วน **ระบบ** ในหน้า **เอนทิตี** พร้อมชื่อ **Deduplication_DataSource_Entity**

เอนทิตีผลลัพธ์การยกเลิกการทําซ้ำประกอบด้วยข้อมูลต่อไปนี้:
- รหัส / คีย์
  - ฟิลด์คีย์หลักและฟิลด์รหัสสำรอง ฟิลด์รหัสสำรองประกอบด้วยรหัสสำรองทั้งหมดที่ระบุสำหรับเรกคอร์ด
  - ฟิลด์ Deduplication_GroupId แสดงกลุ่มหรือคลัสเตอร์ที่ระบุภายในเอนทิตีที่จัดกลุ่มเรกคอร์ดที่คล้ายกันทั้งหมดตามฟิลด์การยกเลิกการทําซ้ำที่ระบุ ซึ่งใช้เพื่อวัตถุประสงค์ในการประมวลผลระบบ หากไม่มีการระบุกฎการยกเลิกการทําซ้ำด้วยตนเอง และใช้กฎการยกเลิกการทําซ้ำที่กำหนดโดยระบบ คุณอาจไม่พบฟิลด์นี้ในเอนทิตีผลลัพธ์การยกเลิกการทําซ้ำ
  - Deduplication_WinnerId: ฟิลด์นี้มีรหัสผู้ชนะจากกลุ่มหรือคลัสเตอร์ที่ระบุ ถ้า Deduplication_WinnerId เหมือนกับค่าคีย์หลักสำหรับเร็กคอร์ด หมายความว่าเร็กคอร์ดนั้นเป็นเรกคอร์ดผู้ชนะ
- ฟิลด์ที่ใช้เพื่อกำหนดกฎการยกเลิกการทําซ้ำ
- ฟิลด์กฎและคะแนนเพื่อระบุว่ากฎการยกเลิกการทําซ้ำใดถูกนำไปใช้ และคะแนนที่ส่งคืนโดยอัลกอริทึมการจับคู่
   
## <a name="run-the-match-process"></a>เรียกใช้กระบวนการจับคู่

เมื่อมีการกำหนดค่ากฎการจับคู่ รวมถึงกฎการจับคู่ข้ามเอนทิตีและการขจัดข้อมูลซ้ำซ้อนคุณสามารถเรียกใช้กระบวนการจับคู่ได้ 

ไปที่ **ข้อมูล** > **รวม** > **จับคู่** และเลือก **เรียกใช้** เพื่อเริ่มกระบวนการ อัลกอริทึมการจับคู่ต้องใช้เวลาสักพักจึงจะเสร็จสมบูรณ์ และคุณไม่สามารถเปลี่ยนแปลงการกำหนดค่าได้จนกว่าจะเสร็จสิ้น เพื่อทำการเปลี่ยนแปลง คุณสามารถยกเลิกการเรียกใช้ได้ เลือกสถานะของงานและเลือก **ยกเลิกงาน** ในบานหน้าต่าง **รายละเอียดความคืบหน้า**

คุณจะพบผลลัพธ์ของการดำเนินการกับเอนทิตีโปรไฟล์ลูกค้าแบบรวมที่ประสบความสำเร็จในเพจ **เอนทิตี** เอนทิตีลูกค้าแบบรวมมีชื่อว่า **ลูกค้า** ในส่วน **โปรไฟล์** การดำเนินการจับคู่ครั้งแรกที่ประสบความสำเร็จทำให้เกิดเอนทิตี *ลูกค้า* แบบรวม การดำเนินการจับคู่ที่ตามมาทั้งหมดจะขยายเอนทิตีนั้น

[!INCLUDE [progress-details-include](../includes/progress-details-pane.md)]

## <a name="review-and-validate-your-matches"></a>ตรวจทานและตรวจสอบการจับคู่ของคุณ

ไปที่ **ข้อมูล** > **รวม** > **จับคู่** เพื่อประเมินคุณภาพของคู่การจับคู่ของคุณและปรับปรุง หากจำเป็น

ไทล์ที่อยู่ด้านบนของเพจจะแสดงเมตริกหลัก โดยสรุปจำนวนเรกคอร์ดที่ตรงกันและรายการที่ซ้ำกัน

:::image type="content" source="media/match-KPIs.png" alt-text="ภาพหน้าจอที่ครอบตัดของเมตริกหลักในเพจการจับคู่พร้อมตัวเลขและรายละเอียด":::

- **เรกคอร์ดต้นทางที่ไม่ซ้ำกัน** แสดงจำนวนเรกคอร์ดต้นทางแต่ละรายการที่ประมวลผลในการดำเนินการจับคู่ล่าสุด
- **เรกคอร์ดที่ตรงกันและไม่ตรงกัน** ไฮไลต์จำนวนเรกคอร์ดที่ไม่ซ้ำกันที่เหลืออยู่หลังจากประมวลผลกฎการจับคู่
- **เรกคอร์ดที่ตรงกันเท่านั้น** แสดงจำนวนของการจับคู่ในคู่การจับคู่ทั้งหมดของคุณ

คุณสามารถประเมินผลลัพธ์ของคู่การจับคู่แต่ละคู่และกฎของคู่นั้นได้ในตาราง **รายละเอียดเรกคอร์ดที่ตรงกัน** เปรียบเทียบจำนวนของเรกคอร์ดที่มาจากคู่การจับคู่กับเปอร์เซ็นต์ของเรกคอร์ดที่จับคู่สำเร็จ

ตรวจสอบกฎของคู่การจับคู่เพื่อดูเปอร์เซ็นต์ของเรกคอร์ดที่จับคู่สำเร็จในระดับกฎ เลือกจุดไข่ปลา (...) จากนั้นเลือก **ดูตัวอย่างการจับคู่** เพื่อดูเรกคอร์ดเหล่านี้ทั้งหมดในระดับกฎ เราขอแนะนำให้คุณดูที่บางเรกคอร์ดเพื่อตรวจสอบว่ามีการจับคู่อย่างถูกต้องหรือไม่

ลองใช้เกณฑ์ความแม่นยำที่แตกต่างกันสำหรับเงื่อนไขเพื่อค้นหาค่าที่เหมาะสมที่สุด

  1. เลือกจุดไข่ปลา (...) สำหรับกฎที่คุณต้องการทดลองและเลือก **แก้ไข**

  2. เปลี่ยนค่าความแม่นยำในเงื่อนไขที่คุณต้องการแก้ไข

  3. เลือก **ดูตัวอย่าง** เพื่อที่จะดูจำนวนของเรกคอร์ดที่ตรงกันและไม่ตรงกันสำหรับเงื่อนไขที่เลือก

## <a name="manage-match-rules"></a>จัดการกฎการจับคู่

คุณสามารถกำหนดค่าใหม่และปรับแต่งพารามิเตอร์การจับคู่ส่วนใหญ่

:::image type="content" source="media/match-rules-management.png" alt-text="ภาพหน้าจอของเมนูแบบหล่นลงพร้อมตัวเลือกกฎการจับคู่":::

- **เปลี่ยนลำดับของกฎของคุณ** ถ้าคุณกำหนดกฎหลายรายการ คุณสามารถเรียงลำดับกฎการจับคู่ใหม่ได้โดยเลือกตัวเลือก **เลื่อนขึ้น** และ **เลื่อนลง** หรือโดยการลากและวาง

- **เปลี่ยนเงื่อนไขของกฎ** โดยการเลือก **แก้ไข** และเลือกฟิลด์ต่างๆ

- **ปิดใช้งานกฎ** เพื่อรักษากฎการจับคู่ในขณะที่ไม่รวมกฎจากกระบวนการจับคู่

- **ทำซ้ำกฎของคุณ** หากคุณได้กำหนดกฎการจับคู่และต้องการสร้างกฎที่คล้ายกันด้วยการปรับเปลี่ยน ให้เลือก **ทำซ้ำ**

- **ลบกฎ** โดยเลือกสัญลักษณ์ **ลบ**

## <a name="advanced-options"></a>ตัวเลือกขั้นสูง

### <a name="add-exceptions-to-a-rule"></a>เพิ่มข้อยกเว้นให้กับกฎ

ในกรณีส่วนใหญ่ การจับคู่เอนทิตีจะนำไปสู่โปรไฟล์ผู้ใช้ที่ไม่ซ้ำกับข้อมูลที่รวมไว้ ในการแก้ไขกรณีที่ไม่ค่อยเกิดขึ้นบ่อยของผลลัพธ์ที่ผิดและผลลบผิด คุณกำหนดข้อยกเว้นสำหรับกฎการจับคู่ได้ ข้อยกเว้นจะนำไปใช้หลังจากประมวลผลกฎการจับคู่และหลีกเลี่ยงการจับคู่เรกคอร์ดทั้งหมด ซึ่งเป็นไปตามเกณฑ์ข้อยกเว้น

ตัวอย่างเช่น หากกฎการจับคู่ของคุณรวมนามสกุล เมือง และวันเกิด ระบบจะระบุเป็นฝาแฝดที่มีนามสกุลเดียวกันซึ่งอาศัยอยู่ในเมืองเดียวกันกับที่มีโปรไฟล์เดียวกัน คุณสามารถระบุข้อยกเว้นที่ไม่ตรงกับโปรไฟล์ได้หากชื่อในเอนทิตีที่คุณรวมไม่เหมือนกัน

1. ไปที่ **ข้อมูล** > **รวม** > **จับคู่** และเลือก **แก้ไข** ในกฎที่คุณต้องการเพิ่มเงื่อนไข

1. ในบานหน้าต่าง **แก้ไขกฎ** ให้เลือก **เพิ่มข้อยกเว้น**

1. ระบุเกณฑ์ข้อยกเว้น 

1. เลือก **เสร็จสิ้น** เพื่อบันทึกกฎ

### <a name="specify-custom-match-conditions"></a>ระบุเงื่อนไขการจับคู่ที่กำหนดเอง

คุณสามารถระบุเงื่อนไขที่แทนที่ตรรกะการจับคู่เริ่มต้นได้ ตัวเลือกที่สามารถใช้ได้มีสี่ประเภท: 

|ตัวเลือก  |Description |ตัวอย่างเช่น  |
|---------|---------|---------|
|ตรงกันเสมอ     | กำหนดค่าที่ตรงกันเสมอ         |  จับคู่ *Mike* กับ *MikeR* เสมอ       |
|ไม่ตรงกันเสมอ     | กำหนดค่าที่ไม่ตรงกัน        | ไม่ต้องจับคู่ *John* กับ *Jonathan*        |
|บายพาสแบบกําหนดเอง     | กำหนดค่าที่ระบบควรละเว้นเสมอในวลีที่ตรงกัน |  ละเว้นค่า *11111* และ *ไม่รู้จัก* ระหว่างการจับคู่        |
|การแมปนามแฝง    | การกำหนดค่าที่ระบบควรพิจารณาว่าเป็นค่าเดียวกัน         | พิจารณา *Joe* เทียบเท่ากับ *Joseph*        |

1. ไปที่ **ข้อมูล** > **รวม** > **จับคู่** และเลือก **การจับคู่ที่กำหนดเอง** ในส่วน **รายละเอียดเรกคอร์ดที่ตรงกัน**

   :::image type="content" source="media/custom-match-create.png" alt-text="ภาพหน้าจอของส่วนกฎการจับคู่พร้อมตัวควบคุมการจับคู่ที่กำหนดเองที่ไฮไลต์":::

1. ในบานหน้าต่าง **กำหนดเอง** ให้ไปที่แท็บ **เรกคอร์ด**

1. เลือกตัวเลือกการจับคู่แบบกำหนดเองจากดรอปดาวน์ **ชนิดที่กำหนดเอง** และเลือก **ดาวน์โหลดเทมเพลต** คุณต้องมีเทมเพลตแยกต่างหากสำหรับตัวเลือกการจับคู่แต่ละรายการ

1. เปิดไฟล์เทมเพลตที่ดาวน์โหลดและกรอกรายละเอียด เทมเพลตจะมีฟิลด์เพื่อระบุเอนทิตีและค่าคีย์หลักของเอนทิตีที่จะใช้ในการจับคู่ที่กำหนดเอง ตัวอย่างเช่น หากคุณต้องการคีย์หลัก *12345* จากเอนทิตี *การขาย* จับคู่กับคีย์หลัก *34567* จากเอนทิตี *ผู้ติดต่อ* เสมอ ให้กรอกข้อมูลในเทมเพลต:
    - Entity1: การขาย
    - Entity1Key: 12345
    - Entity2: ผู้ติดต่อ
    - Entity2Key: 34567

   แฟ้มเทมเพลตเดียวกันสามารถระบุเรกคอร์ดที่ตรงกันแบบกำหนดเองได้จากหลายเอนทิตี
   
   หากคุณต้องการระบุการจับคู่แบบกำหนดเองสำหรับการยกเลิกการทําซ้ำในเอนทิตี ให้ระบุเอนทิตีเดียวกันกับทั้ง เอนทิตี 1 และ เอนทิตี 2 และตั้งค่าคีย์หลักที่แตกต่างกัน

1. หลังจากเพิ่มการแทนที่ทั้งหมดแล้ว ให้บันทึกไฟล์เทมเพลต

1. ไปที่ **ข้อมูล** > **แหล่งข้อมูล** และนำเข้าไฟล์เทมเพลตเป็นเอนทิตีใหม่

1. หลังจากการอัปโหลดไฟล์ และเอนทิตีพร้อมใช้งานแล้ว ให้เลือกตัวเลือก **การจับคู่ที่กำหนดเอง** อีกครั้ง คุณจะเห็นตัวเลือกเพื่อระบุเอนทิตีที่คุณต้องการรวมไว้ เลือกเอนทิตีที่จำเป็นจากเมนูดรอปดาวน์ และเลือก **เสร็จแล้ว**

   :::image type="content" source="media/custom-match-overrides.png" alt-text="ภาพหน้าจอของกล่องโต้ตอบเพื่อเลือกแทนที่สำหรับสถานการณ์การจับคู่ที่กำหนดเอง":::

1. การใช้การจับคู่ที่กำหนดเองจะขึ้นอยู่กับตัวเลือกการจับคู่ที่คุณต้องการใช้ 

   - สำหรับ **จับคู่เสมอ** หรือ **ไม่ต้องจับคู่** ให้ดำเนินการในขั้นตอนต่อไป
   - สำหรับ **การบายพาสที่กำหนดเอง** หรือ **การแมปนามแฝง** ให้เลือก **แก้ไข** ในกฎการจับคู่ที่มีอยู่หรือสร้างกฎใหม่ ในรายการดรอปดาวน์การนอร์มัลไลซ์ ให้เลือกตัวเลือก **การบายพาสที่กำหนดเอง** หรือ **การแมปนามแฝง** และเลือก **เสร็จแล้ว**

1. เลือก **บันทึก** ในเพจ **จับคู่** เพื่อใช้การกำหนดค่าการจับคู่ที่กำหนดเอง

1. เลือก **เรียกใช้** ในเพจ **จับคู่** เพื่อเริ่มกระบวนการจับคู่ กฎการจับคู่ที่ระบุอื่นๆ จะมีการแทนที่โดยการกำหนดค่าการจับคู่ที่กำหนดเอง

#### <a name="known-issues"></a>ปัญหาที่ทราบกันดี

- การรวมตัวเองไม่แสดงข้อมูลที่นอร์มัลไลซ์ในเอนทิตีการลบข้อมูลซ้ำซ้อน แต่จะเป็นการใช้การนอร์มัลไลซ์แบบภายในระหว่างการลบข้อมูลซ้ำซ้อน โดยเป็นไปตามการออกแบบสำหรับการนอร์มัลไลซ์ทั้งหมด 
- หากเอาการตั้งค่าชนิดความหมายออกในวลี **แมป** เมื่อกฎการจับคู่ใช้การแมปนามแฝงหรือการบายพาสที่กำหนดเอง การนอร์มัลไลซ์จะไม่ถูกนำไปใช้ กรณีดังกล่าวจะเกิดขึ้นเมื่อคุณล้างชนิดความหมายหลังจากกำหนดค่าการนอร์มัลไลซ์ในกฎการจับคู่เนื่องจากชนิดความหมายจะไม่เป็นที่รู้จัก


## <a name="next-step"></a>ขั้นตอนถัดไป

หลังจากเสร็จสิ้นกระบวนการจับคู่อย่างน้อยหนึ่งคู่ที่ตรงกัน ให้ดำเนินการต่อในขั้นตอน [**ผสาน**](merge-entities.md)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
