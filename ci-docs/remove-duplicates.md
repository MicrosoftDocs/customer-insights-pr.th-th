---
title: ลบรายการที่ซ้ำกันก่อนที่จะรวมข้อมูล
description: ขั้นตอนที่สองในกระบวนการรวมคือการเลือกบันทึกที่จะเก็บเมื่อพบรายการที่ซ้ำกัน
recommendations: false
ms.date: 08/01/2022
ms.subservice: audience-insights
ms.topic: tutorial
author: v-wendysmith
ms.author: mukeshpo
ms.reviewer: v-wendysmith
manager: shellyha
searchScope:
- ci-map
- ci-match
- customerInsights
ms.openlocfilehash: 7f4829cfc14af623f724c6594e834f3fac1c15a9
ms.sourcegitcommit: 10dcfc32eaf8ec0903be96136dca7bb4e250276a
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 08/01/2022
ms.locfileid: "9213650"
---
# <a name="remove-duplicates-before-unifying-data"></a>ลบรายการที่ซ้ำกันก่อนที่จะรวมข้อมูล

ขั้นตอนที่เป็นตัวเลือกในการรวมนี้ช่วยให้คุณสามารถตั้งค่ากฎสำหรับการขจัดเรกคอร์ดที่ซ้ำกัน **ภายใน** เอนทิตี การลบข้อมูลซ้ำซ้อนจะระบุเรกคอร์ดหลายรายการสำหรับลูกค้าและเลือกเรกคอร์ดที่ดีที่สุดเก็บไว้ (ตามการตั้งค่าการผสานพื้นฐาน) หรือผสานเรกคอร์ดเป็นหนึ่งเดียว (ตามการตั้งค่าการผสานขั้นสูง) เรกคอร์ดต้นทางได้รับการเชื่อมโยงกับเรกคอร์ดที่ผนวกกับรหัสสำรอง หากไม่มีการกำหนดค่ากฎ ระบบจะใช้กฎที่ระบบกำหนด

## <a name="default-deduplication"></a>การลบข้อมูลซ้ำซ้อนเริ่มต้น

หากไม่มีการเพิ่มกฎการลบข้อมูลซ้ำซ้อน ระบบจะใช้กฎที่กำหนดโดยระบบ

- คีย์หลักจะถูกลบข้อมูลซ้ำซ้อน
  สำหรับเรกคอร์ดใดๆ ที่มีคีย์หลักเดียวกัน เรกคอร์ด **ที่กรอกข้อมูลมากที่สุด** (เรกคอร์ดที่มีค่าแบบไม่มีค่าน้อยที่สุด) จะเป็นผู้ชนะ
- กฎการจับคู่ข้ามเอนทิตีใดๆ จะมีการนำไปใช้กับเอนทิตี
  ตัวอย่างเช่น: ในขั้นตอนการจับคู่ ถ้าเอนทิตี A ถูกจับคู่กับเอนทิตี B สำหรับ *FullName* และ *DateofBirth* จากนั้นเอนทิตี A ก็จะถูกลบข้อมูลซ้ำซ้อนตาม *FullName* และ *DateofBirth* เพราะ *FullName* และ *DateofBirth* เป็นคีย์ที่ถูกต้องสำหรับการระบุลูกค้าในเอนทิตี A คีย์เหล่านี้ยังใช้ได้สำหรับการระบุลูกค้าที่ซ้ำกันในเอนทิตี A ด้วย

## <a name="include-enriched-entities-preview"></a>รวมเอนทิตีที่เพิ่มความสมบูรณ์แล้ว (พรีวิว)

หากคุณเพิ่มเอนทิตีในระดับแหล่งข้อมูลเพื่อในการช่วยปรับปรุงผลลัพธ์การรวมของคุณ ให้เลือกเอนทิตีเหล่านั้น สำหรับข้อมูลเพิ่มเติม โปรดดู [การเพิ่มแหล่งข้อมูล](data-sources-enrichment.md)

1. บนหน้า **เรกคอร์ดซ้ำ** ให้เลือก **ใช้เอนทิตีที่เพิ่มความสมบูรณ์แล้ว** ที่ด้านบนของหน้า

1. จากบานหน้าต่าง **ใช้เอนทิตีที่เพิ่มข้อมูล** เลือกเอนทิตีที่เพิ่มข้อมูลอย่างน้อยหนึ่งรายการ

1. เลือก **สำเร็จ**

## <a name="define-deduplication-rules"></a>กำหนดกฎการขจัดข้อมูลซ้ำซ้อน

1. บนหน้า **เรกคอร์ดซ้ำ** ให้เลือกเอนทิตีและเลือก **เพิ่มกฎ** เพื่อกำหนดกฎการขจัดข้อมูลซ้ำซ้อน

   :::image type="content" source="media/m3_duplicates_showmore.png" alt-text="ภาพหน้าจอของหน้าเรกคอร์ดซ้ำพร้อมแสดงส่วนที่เน้นเพิ่มเติม":::

   1. ในบานหน้าต่าง **เพิ่มกฎ** ให้ป้อนข้อมูลดังต่อไปนี้:
      - **เลือกฟิลด์**: เลือกจากรายการฟิลด์ที่มีอยู่จากเอนทิตีที่คุณต้องการตรวจสอบรายการที่ซ้ำกัน เลือกฟิลด์ที่มีแนวโน้มไม่ซ้ำกันสำหรับลูกค้าหนึ่งราย ตัวอย่างเช่น ที่อยู่อีเมล หรือชื่อ เมือง และหมายเลขโทรศัพท์รวมกัน
      - **นอร์มัลไลซ์**: เลือกจากตัวเลือกการนอร์มัลไลซ์ต่อไปนี้สำหรับแอตทริบิวต์ที่เลือก
        - **ตัวเลข**: แปลงระบบตัวเลขอื่นๆ เช่น เลขโรมัน เป็นเลขอารบิก *VIII* กลายเป็น *8*
        - **สัญลักษณ์**: ลบสัญลักษณ์และอักขระพิเศษทั้งหมด *Head&Shoulder* กลายเป็น *HeadShoulder*
        - **ข้อความเป็นตัวพิมพ์เล็ก: แปลงอักขระทั้งหมดเป็นตัวพิมพ์เล็ก** *ตัวพิมพ์ใหญ่และชื่อตัวพิมพ์ใหญ่ทั้งหมด* กลายเป็น *ตัวพิมพ์ใหญ่และชื่อตัวพิมพ์ใหญ่ทั้งหมด*
        - **ชนิด (โทรศัพท์ ชื่อ ที่อยู่ องค์กร)**: กำหนดชื่อ ตำแหน่ง หมายเลขโทรศัพท์ ที่อยู่ ฯลฯ ให้เป็นมาตรฐาน
        - **Unicode เป็น ASCII**: แปลงเครื่องหมาย Unicode เป็นอักขระ ASCII */u00B2* กลายเป็น *2*
        - **ช่องว่าง**: ลบช่องว่างทั้งหมด *Hello   World* กลายเป็น *HelloWorld*
      - **ความแม่นยำ**: ตั้งค่าระดับความแม่นยำที่จะใช้สำหรับเงื่อนไขนี้
        - **พื้นฐาน**: เลือกจาก *ต่ำ (30%)*, *ปานกลาง (60%)*, *สูง (80%)* และ *ตรงกันทุกประการ (100%)* เลือก **ตรงกันทุกประการ** เพื่อจับคู่เรกคอร์ดที่ตรงกัน 100 เปอร์เซ็นต์เท่านั้น
        - **กำหนดเอง**: กำหนดเปอร์เซ็นต์ที่เรกคอร์ดต้องตรงกัน ระบบจะจับคู่เรกคอร์ดที่ผ่านเกณฑ์นี้เท่านั้น
      - **ชื่อ**: ชื่อสำหรับกฎ

      :::image type="content" source="media/m3_duplicates_add.png" alt-text="ภาพหน้าจอของบานหน้าต่างเพิ่มกฎสำหรับการลบรายการที่ซ้ำกัน":::

   1. หรือ เลือก **เพิ่ม** > **เพิ่มเงื่อนไข** เพื่อเพิ่มเงื่อนไขเพิ่มเติมให้กับกฎ เงื่อนไขเชื่อมต่อกับตัวดำเนินการเชิงตรรกะ และจะมีการดำเนินการก็ต่อเมื่อตรงตามเงื่อนไขทั้งหมดเท่านั้น

   1. อีกทางหนึ่งคือ **เพิ่ม** > **เพิ่มข้อยกเว้น** เพื่อ [เพิ่มข้อยกเว้นให้กับกฎ](match-entities.md#add-exceptions-to-a-rule) ข้อยกเว้นถูกใช้เพื่อจัดการกับกรณีที่เกิดขึ้นได้ยากของผลลัพธ์ที่ผิดและผลลบเท็จ

   1. เลือก **เสร็จสิ้น** เพื่อสร้างกฎ

1. หรือ [เพิ่มกฎเพิ่มเติม](#define-deduplication-rules)

1. เลือกเอนทิตีแล้ว **แก้ไขการกําหนดลักษณะการรวมเข้าด้วยกัน**

1. ในบานหน้าต่าง **การกําหนดลักษณะการรวมเข้าด้วยกัน**:
   1. เลือกหนึ่งในสามตัวเลือกเพื่อกำหนดว่าจะเก็บบันทึกใดหากพบรายการที่ซ้ำกัน:
      - **ที่กรอกข้อมูลมากที่สุด** : ระบุเรกคอร์ดที่มีฟิลด์แอตทริบิวต์ที่กรอกข้อมูลมากที่สุดเป็นเรกคอร์ดผู้ชนะ ซึ่งเป็นตัวเลือกการผสานเริ่มต้น
      - **ล่าสุด**: ระบุเรกคอร์ดผู้ชนะโดยพิจารณาจากความใหม่ที่สุด ต้องมีวันที่หรือฟิลด์ตัวเลขเพื่อกำหนดความใหม่
      - **รายการที่เก่าที่สุด**: ระบุเรกคอร์ดผู้ชนะโดยพิจารณาจากความใหม่น้อยที่สุด ต้องมีวันที่หรือฟิลด์ตัวเลขเพื่อกำหนดความใหม่
      
      ในกรณีที่เสมอกัน เรกคอร์ดผู้ชนะคือรายการที่มี MAX (PK) หรือค่าคีย์หลักที่มากกว่า
      
   1. หรือหากต้องการกำหนดการกําหนดลักษณะการรวมเข้าด้วยกันกับแอตทริบิวต์แต่ละรายการของเอนทิตี ให้เลือก **ขั้นสูง** ที่ด้านล่างของบานหน้าต่าง ตัวอย่างเช่น คุณสามารถเลือกเก็บอีเมลล่าสุดและที่อยู่ที่สมบูรณ์ที่สุดจากเรกคอร์ดต่างๆ ขยายเอนทิตีเพื่อดูแอตทริบิวต์ทั้งหมดและกำหนดตัวเลือกที่จะใช้สำหรับแต่ละแอตทริบิวต์ หากคุณเลือกตัวเลือกตามความใหม่ คุณต้องระบุฟิลด์วันที่/เวลาที่กำหนดความใหม่ด้วย

      :::image type="content" source="media/m3_adv_merge.png" alt-text="บานหน้าต่างการกําหนดลักษณะการรวมเข้าด้วยกันขั้นสูงที่แสดงอีเมลล่าสุดและที่อยู่ที่สมบูรณ์":::

   1. เลือก **เสร็จสิ้น** เพื่อนำการกําหนดลักษณะการรวมเข้าด้วยกันของคุณมาใช้

1. หลังจากกำหนดกฎการขจัดข้อมูลซ้ำซ้อนและการกําหนดลักษณะการรวมเข้าด้วยกัน ให้เลือก **ถัดไป**
  
> [!div class="nextstepaction"]
> [ขั้นตอนถัดไปสำหรับเอนทิตีเดียว: รวมฟิลด์](merge-entities.md)

> [!div class="nextstepaction"]
> [ขั้นตอนถัดไปสำหรับหลายเอนทิตี: เงื่อนไขการจับคู่](match-entities.md)

## <a name="deduplication-output-as-an-entity"></a>ผลลัพธ์รายการที่ซ้ำกันเป็นเอนทิตี

กระบวนการขจัดข้อมูลซ้ำซ้อนจะสร้างเอนทิตีที่ขจัดข้อมูลซ้ำซ้อนใหม่สำหรับเอนทิตีต้นทางแต่ละรายการ เอนทิตีเหล่านี้สามารถพบได้พร้อมกับ **ConflationMatchPairs:CustomerInsights** ในส่วน **ระบบ** ในหน้า **เอนทิตี** พร้อมชื่อ **Deduplication_DataSource_Entity**

เอนทิตีผลลัพธ์การยกเลิกการทําซ้ำประกอบด้วยข้อมูลต่อไปนี้:

- รหัส / คีย์
  - ฟิลด์คีย์หลักและรหัสสำรอง ฟิลด์รหัสสำรองประกอบด้วยรหัสสำรองทั้งหมดที่ระบุสำหรับเรกคอร์ด
  - ฟิลด์ Deduplication_GroupId แสดงกลุ่มหรือคลัสเตอร์ที่ระบุภายในเอนทิตีที่จัดกลุ่มเรกคอร์ดที่คล้ายกันทั้งหมดตามฟิลด์การยกเลิกการทําซ้ำที่ระบุ ซึ่งใช้เพื่อวัตถุประสงค์ในการประมวลผลระบบ หากไม่มีการระบุกฎการยกเลิกการทําซ้ำด้วยตนเอง และใช้กฎการยกเลิกการทําซ้ำที่กำหนดโดยระบบ คุณอาจไม่พบฟิลด์นี้ในเอนทิตีผลลัพธ์การยกเลิกการทําซ้ำ
  - Deduplication_WinnerId: ฟิลด์นี้มีรหัสผู้ชนะจากกลุ่มหรือคลัสเตอร์ที่ระบุ ถ้า Deduplication_WinnerId เหมือนกับค่าคีย์หลักสำหรับเร็กคอร์ด หมายความว่าเร็กคอร์ดนั้นเป็นเรกคอร์ดผู้ชนะ
- ฟิลด์ที่ใช้เพื่อกำหนดกฎการยกเลิกการทําซ้ำ
- ฟิลด์กฎและคะแนนเพื่อระบุว่ากฎการยกเลิกการทําซ้ำใดถูกนำไปใช้ และคะแนนที่ส่งคืนโดยอัลกอริทึมการจับคู่

[!INCLUDE[footer-include](includes/footer-banner.md)]
